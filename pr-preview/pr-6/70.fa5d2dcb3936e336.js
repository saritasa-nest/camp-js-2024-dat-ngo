"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[70],{7070:($,d,t)=>{t.r(d),t.d(d,{SignupComponent:()=>P});var r=t(7788),p=t(6610),o=t(7222),g=t(4587),l=t(9344),h=t(2267),f=t(9675),v=t(5860);class F extends v.b{constructor(i){super(),this.email=i.email,this.firstName=i.firstName,this.lastName=i.lastName,this.password=i.password}}var E=t(5981),b=t(8486),N=t(4526),c=t(8823),C=t(6347),S=t(176),w=t(9840),k=t(7212),m=t(3214);function R(s,i){return n=>{const a=n.get(s),e=n.get(i);return!a||!e||e.errors&&!e.errors.mismatchField||e.setErrors(a.value!==e.value?{mismatchField:!0}:null),null}}var G=t(602);const y=()=>["../","signin"];function M(s,i){if(1&s&&(r.j41(0,"mat-error"),r.EFF(1),r.k0s()),2&s){const n=r.XpG();r.R7$(),r.JRh(n.getErrorMessage("email"))}}function j(s,i){if(1&s&&(r.j41(0,"mat-error"),r.EFF(1),r.k0s()),2&s){const n=r.XpG();r.R7$(),r.JRh(n.getErrorMessage("firstName"))}}function L(s,i){if(1&s&&(r.j41(0,"mat-error"),r.EFF(1),r.k0s()),2&s){const n=r.XpG();r.R7$(),r.JRh(n.getErrorMessage("lastName"))}}let P=(()=>{class s{constructor(){this.formErrorService=(0,r.WQX)(h._),this.authService=(0,r.WQX)(w.D),this.router=(0,r.WQX)(f.Ix),this.formBuilder=(0,r.WQX)(o.Qk),this.destroyRef=(0,r.WQX)(r.abz),this.formErrors={},this.signUpForm=this.formBuilder.group({email:this.formBuilder.control("",[o.k0.required,o.k0.required,o.k0.minLength(m.Fc),o.k0.maxLength(m.PO)]),firstName:this.formBuilder.control("",[o.k0.required,o.k0.maxLength(m.aC)]),lastName:this.formBuilder.control("",[o.k0.required,o.k0.maxLength(m.aC)]),passwordGroup:this.formBuilder.group({password:this.formBuilder.control("",[o.k0.required,o.k0.minLength(m.wz),o.k0.maxLength(m.K9)]),reTypePassword:this.formBuilder.control("",[o.k0.required,o.k0.minLength(m.wz),o.k0.maxLength(m.K9)])},{validators:R("password","reTypePassword")})}),this.isLoading$=new E.t(!1)}shouldShowError(n){const a=this.signUpForm.get(n);return this.formErrorService.shouldShowError(a)}getErrorMessage(n){const a=this.signUpForm.get(n);return null==a?null:this.formErrorService.getErrorMessage(a)}onSubmit(){if(this.signUpForm.markAllAsTouched(),this.signUpForm.invalid)return;const n=this.signUpForm.getRawValue(),a={email:n.email,password:n.passwordGroup.password,firstName:n.firstName,lastName:n.lastName};this.isLoading$.next(!0);const e=new F(a);this.authService.register(e).pipe((0,b.s)(1),(0,N.W)(u=>(this.formErrors=this.formErrorService.getFormErrors(this.signUpForm),(0,c.$)(()=>u))),(0,C.j)(()=>{this.isLoading$.next(!1)}),(0,k.pQ)(this.destroyRef)).subscribe({next:()=>{this.router.navigate([S.R.home])},error:u=>(0,c.$)(()=>u)})}static#r=this.\u0275fac=function(a){return new(a||s)};static#o=this.\u0275cmp=r.VBU({type:s,selectors:[["camp-signup"]],standalone:!0,features:[r.aNF],decls:33,vars:13,consts:[[1,"form",3,"ngSubmit","formGroup"],[1,"form__input-group"],["appearance","outline"],["for","email",1,"form__label"],["matInput","","type","text","id","email","name","email","placeholder","Enter email","formControlName","email"],[4,"ngIf"],["for","firstName",1,"form__label"],["matInput","","type","text","id","firstName","name","firstName","placeholder","Enter First Name","formControlName","firstName"],["for","lastName",1,"form__label"],["matInput","","type","text","id","lastName","name","lastName","placeholder","Enter Last Name","formControlName","lastName"],["formGroupName","passwordGroup",1,"password-group"],["label","Password","placeholder","Enter password",3,"formControl","touched"],["label","Retype Password","placeholder","Retype password",3,"formControl","touched"],[1,"form__remember-me"],["type","checkbox","id","rememberMe"],["for","rememberMe"],["type","submit",1,"form__btn-signup",3,"disabled"],[1,"form__signup-link"],[3,"routerLink"]],template:function(a,e){1&a&&(r.j41(0,"form",0),r.bIt("ngSubmit",function(){return e.onSubmit()}),r.j41(1,"div",1)(2,"mat-form-field",2)(3,"mat-label",3),r.EFF(4,"Email"),r.k0s(),r.nrm(5,"input",4),r.DNE(6,M,2,1,"mat-error",5),r.k0s(),r.j41(7,"mat-form-field",2)(8,"mat-label",6),r.EFF(9,"First Name"),r.k0s(),r.nrm(10,"input",7),r.DNE(11,j,2,1,"mat-error",5),r.k0s(),r.j41(12,"mat-form-field",2)(13,"mat-label",8),r.EFF(14,"Last Name"),r.k0s(),r.nrm(15,"input",9),r.DNE(16,L,2,1,"mat-error",5),r.k0s(),r.j41(17,"form",10)(18,"div",1),r.nrm(19,"camp-password-input",11)(20,"camp-password-input",12),r.k0s()()(),r.j41(21,"div",13),r.nrm(22,"input",14),r.j41(23,"label",15),r.EFF(24,"Remember me"),r.k0s()(),r.j41(25,"button",16),r.nI1(26,"async"),r.EFF(27," Sign up "),r.k0s(),r.j41(28,"div",17)(29,"span"),r.EFF(30,"Already have an account?"),r.k0s(),r.j41(31,"a",18),r.EFF(32,"Sign in now"),r.k0s()()()),2&a&&(r.Y8G("formGroup",e.signUpForm),r.R7$(6),r.Y8G("ngIf",e.shouldShowError("email")),r.R7$(5),r.Y8G("ngIf",e.shouldShowError("firstName")),r.R7$(5),r.Y8G("ngIf",e.shouldShowError("lastName")),r.R7$(3),r.Y8G("formControl",e.signUpForm.controls.passwordGroup.controls.password)("touched",e.signUpForm.controls.passwordGroup.controls.password.touched),r.R7$(),r.Y8G("formControl",e.signUpForm.controls.passwordGroup.controls.reTypePassword)("touched",e.signUpForm.controls.passwordGroup.controls.reTypePassword.touched),r.R7$(5),r.Y8G("disabled",e.signUpForm.invalid&&r.bMT(26,10,e.isLoading$)),r.R7$(6),r.Y8G("routerLink",r.lJ4(12,y)))},dependencies:[p.MD,p.bT,p.Jj,o.X1,o.qT,o.me,o.BC,o.cb,o.l_,o.j4,o.JD,o.$R,g.fS,g.fg,l.rl,l.nJ,l.TL,l.RG,G.H,f.Wk],styles:[".form[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:var(--spacing-md)}.form__input-group[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md);display:grid}.form__label[_ngcontent-%COMP%]{color:var(--anime-blue-ribbon);margin:var(--spacing-xs)}.form__remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:var(--spacing-md)}.form__remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:var(--spacing-sm)}.form__btn-signup[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-md);border:none;border-radius:var(--border-radius-xs);cursor:pointer;margin-bottom:var(--spacing-md);background-color:var(--anime-blue-ribbon);color:var(--surface-color)}.form__signup-link[_ngcontent-%COMP%]{text-align:center}.form__signup-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:var(--spacing-sm)}"],changeDetection:0})}return s})()}}]);