"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[689],{5689:(k,g,t)=>{t.r(g),t.d(g,{SignupComponent:()=>j});var r=t(7788),p=t(6610),o=t(7222),u=t(4587),m=t(5468),f=t(2267),c=t(8037),h=t(5860);class v extends h.b{constructor(i){super(),this.email=i.email,this.firstName=i.firstName,this.lastName=i.lastName,this.password=i.password}}var F=t(5981),E=t(8486),N=t(4526),d=t(8823),b=t(6347),S=t(176),C=t(9840),R=t(7212),w=t(4396);function G(n,i){if(1&n&&(r.j41(0,"mat-error"),r.EFF(1),r.k0s()),2&n){const e=r.XpG();r.R7$(),r.JRh(e.getErrorMessage("email"))}}function y(n,i){if(1&n&&(r.j41(0,"mat-error"),r.EFF(1),r.k0s()),2&n){const e=r.XpG();r.R7$(),r.JRh(e.getErrorMessage("firstName"))}}function M(n,i){if(1&n&&(r.j41(0,"mat-error"),r.EFF(1),r.k0s()),2&n){const e=r.XpG();r.R7$(),r.JRh(e.getErrorMessage("lastName"))}}let j=(()=>{class n{constructor(e){this.formBuilder=e,this.formErrorService=(0,r.WQX)(f._),this.authService=(0,r.WQX)(C.D),this.router=(0,r.WQX)(c.Ix),this.formErrors={},this.destroyRef=(0,r.WQX)(r.abz),this.signUpForm=this.formBuilder.group({email:["",[o.k0.required,o.k0.email]],firstName:["",[o.k0.required,o.k0.maxLength(30)]],lastName:["",[o.k0.required,o.k0.maxLength(30)]],passwordGroup:this.formBuilder.group({password:["",[o.k0.required,o.k0.minLength(8)]],reTypePassword:["",[o.k0.required,o.k0.minLength(8)]]})}),this.isLoading$=new F.t(!1)}shouldShowError(e){const a=this.signUpForm.get(e);return this.formErrorService.shouldShowError(a)}getErrorMessage(e){const a=this.signUpForm.get(e);return null==a?null:this.formErrorService.getErrorMessage(a)}onSubmit(){if(this.signUpForm.markAllAsTouched(),this.signUpForm.valid){const e=this.signUpForm.getRawValue(),a={email:e.email,password:e.passwordGroup.password,firstName:e.firstName,lastName:e.lastName};this.isLoading$.next(!0);const s=new v(a);this.authService.register(s).pipe((0,E.s)(1),(0,N.W)(l=>(this.formErrors=this.formErrorService.getFormErrors(this.signUpForm),console.log(this.formErrors),(0,d.$)(()=>l))),(0,b.j)(()=>{this.isLoading$.next(!1)}),(0,R.pQ)(this.destroyRef)).subscribe({next:()=>{this.router.navigate([S.R.home])},error:l=>(0,d.$)(()=>l)})}else this.formErrors=this.formErrorService.getFormErrors(this.signUpForm),console.warn("Form is invalid",this.formErrors)}static#r=this.\u0275fac=function(a){return new(a||n)(r.rXU(o.Qk))};static#o=this.\u0275cmp=r.VBU({type:n,selectors:[["camp-signup"]],standalone:!0,features:[r.aNF],decls:35,vars:15,consts:[[3,"ngSubmit","formGroup"],[1,"form__input-group"],["appearance","outline"],["for","email",1,"form__label"],["matInput","","type","text","id","email","name","email","placeholder","Enter email","formControlName","email"],[4,"ngIf"],["for","firstName",1,"form__label"],["matInput","","type","text","id","firstName","name","firstName","placeholder","Enter First Name","formControlName","firstName"],["for","lastName",1,"form__label"],["matInput","","type","text","id","lastName","name","lastName","placeholder","Enter Last Name","formControlName","lastName"],["formGroupName","passwordGroup",1,"password-group"],["label","Password","placeholder","Enter password",3,"formControl","touched"],["label","Retype Password","placeholder","Retype password",3,"formControl","touched"],[1,"form__remember-me"],["type","checkbox","id","rememberMe"],["for","rememberMe"],["type","submit",1,"form__btn-signup",3,"disabled"],[1,"form__signup-link"],["href","/auth/signin"]],template:function(a,s){1&a&&(r.j41(0,"form",0),r.bIt("ngSubmit",function(){return s.onSubmit()}),r.j41(1,"div",1)(2,"mat-form-field",2)(3,"mat-label",3),r.EFF(4,"Email"),r.k0s(),r.nrm(5,"input",4),r.DNE(6,G,2,1,"mat-error",5),r.k0s(),r.j41(7,"mat-form-field",2)(8,"mat-label",6),r.EFF(9,"First Name"),r.k0s(),r.nrm(10,"input",7),r.DNE(11,y,2,1,"mat-error",5),r.k0s(),r.j41(12,"mat-form-field",2)(13,"mat-label",8),r.EFF(14,"Last Name"),r.k0s(),r.nrm(15,"input",9),r.DNE(16,M,2,1,"mat-error",5),r.k0s(),r.j41(17,"form",10)(18,"div",1),r.nrm(19,"camp-password-input",11)(20,"camp-password-input",12),r.k0s()()(),r.j41(21,"div",13),r.nrm(22,"input",14),r.j41(23,"label",15),r.EFF(24,"Remember me"),r.k0s()(),r.j41(25,"button",16),r.nI1(26,"async"),r.EFF(27,"Sign up"),r.k0s(),r.EFF(28),r.nI1(29,"async"),r.j41(30,"div",17)(31,"span"),r.EFF(32,"Already have an account?"),r.k0s(),r.j41(33,"a",18),r.EFF(34,"Sign in now"),r.k0s()()()),2&a&&(r.Y8G("formGroup",s.signUpForm),r.R7$(6),r.Y8G("ngIf",s.shouldShowError("email")),r.R7$(5),r.Y8G("ngIf",s.shouldShowError("firstName")),r.R7$(5),r.Y8G("ngIf",s.shouldShowError("lastName")),r.R7$(3),r.Y8G("formControl",s.signUpForm.controls.passwordGroup.controls.password)("touched",s.signUpForm.controls.passwordGroup.controls.password.touched),r.R7$(),r.Y8G("formControl",s.signUpForm.controls.passwordGroup.controls.reTypePassword)("touched",s.signUpForm.controls.passwordGroup.controls.reTypePassword.touched),r.R7$(5),r.Y8G("disabled",s.signUpForm.invalid&&r.bMT(26,11,s.isLoading$)),r.R7$(3),r.Lme(" ",r.bMT(29,13,s.isLoading$)," ",s.signUpForm.invalid," "))},dependencies:[p.MD,p.bT,p.Jj,o.X1,o.qT,o.me,o.BC,o.cb,o.l_,o.j4,o.JD,o.$R,u.fS,u.fg,m.rl,m.nJ,m.TL,m.RG,w.H],styles:[".form__input-group[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md);display:grid}.form__label[_ngcontent-%COMP%]{color:var(--anime-button);margin:var(--spacing-xs)}.form__remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:var(--spacing-md)}.form__remember-me[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:var(--spacing-sm)}.form__btn-signup[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-md);border:none;border-radius:var(--border-radius-xs);cursor:pointer;margin-bottom:var(--spacing-md);background-color:var(--anime-button);color:var(--surface-color)}.form__signup-link[_ngcontent-%COMP%]{text-align:center}.form__signup-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:var(--spacing-sm)}"],changeDetection:0})}return n})()}}]);